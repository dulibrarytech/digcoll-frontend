<% include partials/header %>
<% include partials/title-banner %>

<div id="viewer-section">
  <% if(error) { %>
    <h5><%- error %></h5>
  <% } %>

  <div class="viewer-wrapper row">
    <div id="object-view" class="col-md-12">
      <%- viewer %>
    </div>

    <div id="transcript-view-wrapper">
      <div id="transcript-view">
        <%= transcript %>
      </div>
    </div>
  </div>
</div>

<div id="metadata-section">

  <div class="object-options">
    <div class="container">
        <span id="object-view-controls">
          <button class="collapsible" alt="View Details">View Details</button>
          <button id="file-download" alt="Download Item" disabled>Download Item</button>
          <% if(transcript) { %>
            <button id="view-transcript" alt="View Transcript" type="button">View Transcript</button>
          <% } %>
        </span>
    </div>
  </div>

  <div class="container">
    <div class="table-responsive mods-display metadata-content ">
        <table class="table data-table" summary="<% for (var key in summary) { %><%= summary[key] %> <% } %>">
          <tr style="display: none;">
            <th scope="col">Data Type</th>  
            <th scope="col">Value</th>  
          </tr>
          <% for (var key in metadata) { %>
            <tr>
              <td scope="row"><%= key %></td>
            <% if(typeof metadata[key] == "object") { %>
              <td>
              <% for (var subkey in metadata[key]) { %>
                <p><%- metadata[key][subkey] %></p>
            <% } %>
            </td></tr>
            <% } else { %>
              <td><p><%- metadata[key] %></p></td></tr>
            <% } %>
          <% } %>
        </table>
      </div>
    </div>
  </div>

  <div class="object-data container">
    <% for (var key in summary) { %>
      <h3><%= key %></h3>
      <p><%= summary[key] %></p>
    <% } %>
  </div>

</div>

<% include partials/footer %>